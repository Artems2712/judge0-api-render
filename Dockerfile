# ---------- Dockerfile ----------
# Берём готовый контейнер Judge0 API (стабильный тег 1.13.1).
FROM judge0/api:1.13.1

# 1) Без JWT-авторизации – мобильному приложению не нужны токены
ENV ENABLE_AUTH=false

# 2) Render отдаёт порт в переменную PORT
#    API слушает API_PORT, поэтому перекидываем значение
ENV API_PORT=${PORT:-8080}

# Judge0 уже запускает ./start.sh сам, ENTRYPOINT менять не нужно
EXPOSE 8080
# ---------------------------------
